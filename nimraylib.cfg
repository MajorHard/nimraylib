[n.global]
output = nimraylib

[n.include]
nimraylib/src

[n.prepare]
gitremote = "https://github.com/raysan5/raylib"
gitsparse = """
src/*
"""

[raylib.h]
preprocess = true
defines = true
recurse = true

pragma = "passL: \"-lraylib\""
pragma-lin = "passL: \"-lGL -lm -lpthread -ldl -lrt -lX11\"" 

[nimraylib/raylib.nim]
search.bool = "_Bool"
replace.bool = "bool"

search.audobuffer = "  AudioStream*"
prepend.audiobuffer = "  rAudioBuffer* = object\n"

search.vargs = """
  TraceLogCallback* = proc (logType: cint; text: cstring; args: va_list) {.stdcall.}
"""
replace.vargs = """
  TraceLogCallback* = proc (logType: cint; text: cstring) {.stdcall, varargs.}
"""
